<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
    	img { max-width: 100%; }
    </style>
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>varnishfoo.info</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <style>
      body {
	padding-top: 5px;
	}
	</style>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
    <div class="row">
    <div class="col-md-10">
<nav class="navbar navbar-default navbar-nverse">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Varnish Foo</a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Jump to<span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li class="dropdown-header">Complete Chapters</li>
                <li><a href="chapter-1.html">1: Introduction</a></li>
                <li><a href="chapter-2.html">2: Working with HTTP caching</a></li>
                <li class="dropdown-header">Incomplete Chapters</li>
                <li><a href="chapter-3.html">3: Architecture and operation</a></li>
                <li class="dropdown-header">Appendices</li>
                <li><a href="appendix-1.html">A: Varnish Three Letter Acronyms</a></li>
                <li><a href="appendix-2.html">B: varnishd arguments</a></li>
                <li><a href="appendix-n.html">N: License</a></li>
                <li role="separator" class="divider"></li>
                <li><a href="varnishfoo.pdf">PDF version of the book</a></li>
              </ul>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Resources <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="https://github.com/KristianLyng/varnishfoo">GitHub repo</a></li>
            <li><a href="https://kly.no/">Author's blog - with frequent updates</a></li>
            <li><a href="https://varnish-cache.org/">Official Varnish Cache site</a></li>
          </ul>
        </li>
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>
<h1 class="title">Appendix B: <tt class="docutils literal">varnishd</tt> arguments</h1>
<p>This is a copy of <tt class="docutils literal">varnishd <span class="pre">-h</span></tt> from Varnish 4.1. Ironically, this is not
a valid argument, and there is no argument to explicitly print help output
for <tt class="docutils literal">varnishd</tt>, but any invalid argument will do the trick:</p>
<pre class="literal-block">
/usr/local/sbin/varnishd: option requires an argument -- 'h'
usage: varnishd [options]
    -a address[:port][,proto]    # HTTP listen address and port (default: *:80)
                                 #   address: defaults to loopback
                                 #   port: port or service (default: 80)
                                 #   proto: HTTP/1 (default), PROXY
    -b address[:port]            # backend address and port
                                 #   address: hostname or IP
                                 #   port: port or service (default: 80)
    -C                           # print VCL code compiled to C language
    -d                           # debug
    -F                           # Run in foreground
    -f file                      # VCL script
    -h kind[,hashoptions]        # Hash specification
                                 #   -h critbit [default]
                                 #   -h simple_list
                                 #   -h classic
                                 #   -h classic,&lt;buckets&gt;
    -i identity                  # Identity of varnish instance
    -j jail[,jailoptions]        # Jail specification
                                 #   -j unix[,user=&lt;user&gt;][,ccgroup=&lt;group&gt;]
                                 #   -j none
    -l vsl[,vsm]                 # Size of shared memory file
                                 #   vsl: space for VSL records [80m]
                                 #   vsm: space for stats counters [1m]
    -M address:port              # Reverse CLI destination
    -n dir                       # varnishd working directory
    -P file                      # PID file
    -p param=value               # set parameter
    -r param[,param...]          # make parameter read-only
    -S secret-file               # Secret file for CLI authentication
    -s [name=]kind[,options]     # Backend storage specification
                                 #   -s malloc[,&lt;size&gt;]
                                 #   -s file,&lt;dir_or_file&gt;
                                 #   -s file,&lt;dir_or_file&gt;,&lt;size&gt;
                                 #   -s file,&lt;dir_or_file&gt;,&lt;size&gt;,&lt;granularity&gt;
                                 #   -s persistent (experimental)
    -T address:port              # Telnet listen address and port
    -t TTL                       # Default TTL
    -V                           # version
    -W waiter                    # Waiter implementation
                                 #   -W epoll
                                 #   -W poll
</pre>
    </div>
    </div>
    </div>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
  </body>
</html>
