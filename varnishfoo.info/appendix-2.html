<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
    	img { max-width: 100%; }
    </style>
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>varnishfoo.info</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
    <div class="page-header">
    <h1>Varnish Foo: A book in the making</h1>
    </div>
    <div class="row">
    <div class="col-md-9">
<h1 class="title">Appendix B: <tt class="docutils literal">varnishd</tt> arguments</h1>
<p>This is a copy of <tt class="docutils literal">varnishd <span class="pre">-h</span></tt> from Varnish 4.1. Ironically, this is not
a valid argument, and there is no argument to explicitly print help output
for <tt class="docutils literal">varnishd</tt>, but any invalid argument will do the trick:</p>
<pre class="literal-block">
/usr/local/sbin/varnishd: option requires an argument -- 'h'
usage: varnishd [options]
    -a address[:port][,proto]    # HTTP listen address and port (default: *:80)
                                 #   address: defaults to loopback
                                 #   port: port or service (default: 80)
                                 #   proto: HTTP/1 (default), PROXY
    -b address[:port]            # backend address and port
                                 #   address: hostname or IP
                                 #   port: port or service (default: 80)
    -C                           # print VCL code compiled to C language
    -d                           # debug
    -F                           # Run in foreground
    -f file                      # VCL script
    -h kind[,hashoptions]        # Hash specification
                                 #   -h critbit [default]
                                 #   -h simple_list
                                 #   -h classic
                                 #   -h classic,&lt;buckets&gt;
    -i identity                  # Identity of varnish instance
    -j jail[,jailoptions]        # Jail specification
                                 #   -j unix[,user=&lt;user&gt;][,ccgroup=&lt;group&gt;]
                                 #   -j none
    -l vsl[,vsm]                 # Size of shared memory file
                                 #   vsl: space for VSL records [80m]
                                 #   vsm: space for stats counters [1m]
    -M address:port              # Reverse CLI destination
    -n dir                       # varnishd working directory
    -P file                      # PID file
    -p param=value               # set parameter
    -r param[,param...]          # make parameter read-only
    -S secret-file               # Secret file for CLI authentication
    -s [name=]kind[,options]     # Backend storage specification
                                 #   -s malloc[,&lt;size&gt;]
                                 #   -s file,&lt;dir_or_file&gt;
                                 #   -s file,&lt;dir_or_file&gt;,&lt;size&gt;
                                 #   -s file,&lt;dir_or_file&gt;,&lt;size&gt;,&lt;granularity&gt;
                                 #   -s persistent (experimental)
    -T address:port              # Telnet listen address and port
    -t TTL                       # Default TTL
    -V                           # version
    -W waiter                    # Waiter implementation
                                 #   -W epoll
                                 #   -W poll
</pre>
    </div>
    <div class="col-md-3">
    <h3>Read the book</h3>
    <ul>
    <li><a href="index.html">Front Page</a></li>
    <li><a href="chapter-1.html">Chapter 1: Introduction</a></li>
    <li><a href="chapter-2.html">Chapter 2: Working with HTTP caching</a></li>
    <li><a href="chapter-3.html">In progress: Chapter 3: Architecture and operation</a></li>
    <li><a href="appendix-1.html">Appendix A: Varnish Three Letter Acronyms</a></li>
    <li><a href="appendix-2.html">Appendix B: varnishd arguments</a></li>
    <li><a href="appendix-n.html">Appendix N: License</a></li>
    </ul>
    <h3>Resources</h3>
    <ul>
    <li><a href="https://github.com/KristianLyng/varnishfoo">GitHub repo</a></li>
    <li><a href="https://kly.no/">Author's blog - with frequent updates</a></li>
    <li><a href="https://varnish-cache.org/">Official Varnish Cache site</a></li>
    <li><a href="varnishfoo.pdf">PDF version of the book</a></li>
    </ul>
    </div>
    </div>
    </div>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
  </body>
</html>
